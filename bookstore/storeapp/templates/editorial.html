{% extends "base.html" %}

{% block titulo %}Editoriales{% endblock %}

{% block contenido %}
    <div id="app">
        <main>
            <aside>
                {% verbatim  %}
                    <div v-for="editorial in editorials" :key="editorial.id">
                    <h2>{{ editorial.nombre }}</h2>
                    <article>
                        <img :src="editorial.foto" :alt="editorial.alt" width="300" height="269">
                    </article>
                    <fieldset>
                        <legend><strong><u>{{ editorial.nombre }}</u></strong></legend>
                        <table>
                            <tr>
                                <td><strong>Creación editorial:</strong></td>
                                <td>{{ editorial.creacion }}</td>
                            </tr>
                            <tr>
                                <td><strong>Libros publicados:</strong></td>
                                <td>
                                    <span v-for="(book, index) in editorial.libros" :key="index">
                                        {{ book.titulo }}
                                        <span v-if="index !== editorial.libros.length - 1">, </span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                    <br>
                </div>
                {% endverbatim  %}
            </aside>
        </main>
    </div>


    <script src="/static/js/vue.js"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                editorials: [
                    {
                        id: 1,
                        nombre: 'Allen & Unwin',
                        foto: '/static/img/editoriales/allenandunwin.png',
                        alt: 'allenunwin',
                        creacion: '1976',
                        libros: [
                            { titulo: 'El hobbit' }
                        ]
                    },
                    {
                        id: 2,
                        nombre: 'Umbriel',
                        foto: '/static/img/editoriales/umbriel.png',
                        alt: 'umbriel',
                        creacion: '2003',
                        libros: [
                            { titulo: 'La hija de la diosa de la Luna' },
                            { titulo: 'Los siete maridos de Evelyn Hugo' }
                        ]
                    },
                    {
                        id: 3,
                        nombre: 'Timun Mas',
                        foto: '/static/img/editoriales/timunmas.png',
                        alt: 'timunmas',
                        creacion: '2000',
                        libros: [
                            { titulo: 'Buenos presagios' }
                        ]
                    },
                    {
                        id: 4,
                        nombre: 'Debolsillo',
                        foto: '/static/img/editoriales/debolsillo.png',
                        alt: 'debolsillo',
                        creacion: '2000',
                        libros: [
                            { titulo: 'El color de la Magia' },
                            { titulo: 'Rebelión en la granja' }
                        ]
                    },
                    {
                        id: 5,
                        nombre: 'Península',
                        foto: '/static/img/editoriales/peninsula.jpg',
                        alt: 'peninsula',
                        creacion: '1964',
                        libros: [
                            { titulo: 'La guerra de los chips' }
                        ]
                    },
                    {
                        id: 6,
                        nombre: 'edebé',
                        foto: '/static/img/editoriales/edebe.png',
                        alt: 'edebe',
                        creacion: '1888',
                        libros: [
                            { titulo: 'Erik Vogler: Los crímenes del Rey Blanco' }
                        ]
                    },
                    {
                        id: 7,
                        nombre: 'Reino de Cordelia',
                        foto: '/static/img/editoriales/reinodecordelia.jpg',
                        alt: 'cordelia',
                        creacion: '1904',
                        libros: [
                            { titulo: 'El retrato de Dorian Gray' }
                        ]
                    },
                    {
                        id: 8,
                        nombre: 'Anagrama',
                        foto: '/static/img/editoriales/anagrama.jpeg',
                        alt: 'anagrama',
                        creacion: '1969',
                        libros: [
                            { titulo: 'Los peligros de fumar en la cama' }
                        ]
                    }
                ]
            },
            mounted() {
                console.log(this.editorials);
            }
        });
    </script>
{% endblock %}
